function calculateHalfHourlyTotal(table) {
  const rows = table.rows;
  let totalSales = 0;
  let halfHourlyTotal = 0;
  let startTime;

  for (let i = 1; i < rows.length; i++) {
    const currentTime = rows[i].cells[0].innerText;
    const currentAmount = parseFloat(rows[i].cells[1].innerText);

    if (!startTime) {
      startTime = currentTime;
      halfHourlyTotal += currentAmount;
      continue;
    }

    const timeDifference = (Date.parse(`1970-01-01T${currentTime}:00Z`) - Date.parse(`1970-01-01T${startTime}:00Z`)) / 1000 / 60;

    if (timeDifference >= 30) {
      console.log(`${startTime} / ${currentTime} = ${halfHourlyTotal.toFixed(2)} (${totalSales.toFixed(2)})`);
      startTime = currentTime;
      totalSales += halfHourlyTotal;
      halfHourlyTotal = currentAmount;
    } else {
      halfHourlyTotal += currentAmount;
    }
  }

  // Log remaining half-hourly total
  if (halfHourlyTotal > 0) {
    totalSales += halfHourlyTotal;
    console.log(`${startTime} / ${rows[rows.length - 1].cells[0].innerText} = ${halfHourlyTotal.toFixed(2)} (${totalSales.toFixed(2)})`);
  }
}
